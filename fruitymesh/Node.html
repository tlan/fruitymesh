<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Node Module (ID 0) :: Fruitymesh</title>
  <link rel="canonical" href="http://mwaylabs.github.io/fruitymesh/fruitymesh/Node.html">
  <meta name="generator" content="Antora 2.1.1">
  <link rel="stylesheet" href="../_/css/site.css">
  <link rel="stylesheet" href="../_/css/footer.css">
</head>

<body class="article">
  <header class="header" role="banner">
<header class="header" role="banner">
  <div class="navbar-top">
    <a class="navbar-logo" id="fruitymesh-logo-padding" href="https://mwaylabs.github.io/fruitymesh/fruitymesh/index.html">
      <div class="navbar-item">
        <img src="../_/img/fruitymesh_logo.png" alt="Fruitymesh">
      </div>
    </a>
    <div class="navbar-item">
      <div id="search-wrapper" class="border-color-fruitymesh>
        <input id="search-input" type="text" placeholder="Search...">
      </div>
    </div>
  </div>
  <nav class="navbar-bottom fruitymesh-header-color">
    <a href="https://github.com/mwaylabs/fruitymesh">
      <div class="navbar-item">Fruitymesh on Github</div>
    </a>
  </nav>
</header>

</header>
  <div class="main-wrapper">
<div class="navigation-container" data-component="" data-version="master">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <button class="navigation-toggle"></button>
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Quick-Start.html">Quick Start</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="BasicUsage.html">Basic Usage</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Concepts.html">Concepts</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Features.html">Features</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Specification.html">Specification</a>
      </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Developers</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Developers.html">Developer Overview</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Class-Structure.html">Class Structure</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Debugging.html">Debugging</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ModuleDocumentationTemplate.html">Module Documentation Template</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="BuildingWithCMake.html">Building with CMake</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VsCodeSetup.html">VsCode Setup</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="CppCheck.html">CppCheck Setup</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Mesh</span>
    <ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="Node.html">Node</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Connections.html">Connections</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Core Functionality</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="AdvertisingController.html">AdvertisingController</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="BoardConfig.html">Board Configuration</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="FruityHal.html">FruityHal</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Logger.html">Logger</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="RawData.html">RawData Protocol</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="RecordStorage.html">Record Storage</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ScanController.html">ScanController</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="SensorsAndActuators.html">Sensors and Actuators</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Terminal.html">Terminal</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Modules</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Modules.html">Module Overview</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="AdvertisingModule.html">AdvertisingModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="DebugModule.html">DebugModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="DfuModule.html">DfuModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="EnrollmentModule.html">EnrollmentModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="IoModule.html">IoModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="MeshAccessModule.html">MeshAccessModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ScanningModule.html">ScanningModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="StatusReporterModule.html">StatusReportModule</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Simulator</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="CherrySim.html">CherrySim</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Measurements</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Battery-Consumption.html">Battery Consumption</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Throughput.html">Throughput</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">The Fruitymesh Algorithm</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="The-FruityMesh-Algorithm.html">The Fruitymesh Algorithm Basics</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="The-Algorithm-in-Detail.html">The Algorithm in Detail</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Tutorials</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Tutorials.html">Tutorial Overview</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Implementing-a-Custom-Module.html">Implementing a Custom Module</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="FAQ.html">FAQ</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="FAQ.html">FAQ</a>
      </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<article class="doc"><a name="section-top"></a>
<h1>Node Module (ID 0)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The <em>NodeModule</em> has <em>ModuleId</em> 0.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_purpose"><a class="anchor" href="#_purpose"></a>Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>NodeModule</em> is the central part of the FruityMesh algorithm. It is a mandatory module. It is responsible for clustering and other mesh related tasks and functionalities that are part of FruityMesh. It also has additional core functionality implemented.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_functionality"><a class="anchor" href="#_functionality"></a>Functionality</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The node keeps track of all <em>MeshConnections</em> and monitors connects and disconnects. It works in conjunction with the <em>MeshConnection</em> and <em>ConnectionManager</em> classes for this. The node is also responsible for broadcasting mesh discovery (<a href="Specification.html" class="page">JOIN_ME</a>) packets. It also activates scanning if necessary and monitors the incoming discovery packets of other nodes. It creates new <em>MeshConnections</em> to other nodes if necessary. A state machine is used to toggle between different discovery states.</p>
</div>
<div class="paragraph">
<p>The node only permits one mesh handshake at a certain time. During the handshake, both mesh nodes exchange information about their clusters and decide which cluster is the biggest one. The packets used are specified under <a href="#_clustering_messages">Clustering Messages</a>. During the handshake, a backup of the current cluster state is made and used throughout the handshake. After the handshake, cluster changes that happened in the meantime are sent to these connections. Updates of the cluster size or structure are also sent to all <a href="MeshAccessModule.html" class="page">MeshAccessConnections</a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
There are a number of undocumented commands. These are mostly for debugging and there is no guarantee that they will be available in future builds.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="RebootMessage"><a class="anchor" href="#RebootMessage"></a>Reboot Message</h2>
<div class="sectionbody">
<div class="paragraph">
<p>On reboot, the firmware sends a JSON to a device that is connected to the terminal output, providing more information about the reboot. The JSON has the following structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Javascript hljs" data-lang="Javascript">{
	"type":"reboot",
	"reason":3, //Integer, see below
	"code1":17, //Additional information, depending on the reason given. The valid codes are purposefully undocumented, as they are highly subject to change and are mainly intended to help firmware developers.
	"stack":128, //Stack address of the reboot, if available
	"version":80021 //Version of the firmware
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The reason can have the following values:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 62.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UNKNOWN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reboot reason is unknown. A typical case where this can happen is when the node lost power and thus was unable to save any valid reason. Note that the reason really is <strong>unknown</strong> and as such could be any other reason as well.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HARDFAULT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A hard fault occurred on the device.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APP_FAULT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Some runtime check of the firmware failed and the device rebooted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SD_FAULT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Softdevice crashed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIN_RESET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The power reset button was pressed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WATCHDOG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The watchdogs were not fed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM_OFF_STATE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The node previously was turned off and is now turned on.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LOCAL_RESET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>reset</code> command without any additional parameters was used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REMOTE_RESET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>action <em>NodeId</em> node reset</code> command was sent to the node.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ENROLLMENT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The reboot happened because of an enrollment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PREFERRED_CONNECTIONS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The preferred connections were set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">200-255</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">USER_DEFINED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Some user defined reboot reasons.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The reboot reason is also stored in the error log</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terminal_commands"><a class="anchor" href="#_terminal_commands"></a>Terminal Commands</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_getting_basic_information_local_command"><a class="anchor" href="#_getting_basic_information_local_command"></a>Getting Basic Information (Local Command)</h3>
<div class="paragraph">
<p><code>status</code></p>
</div>
<div class="paragraph">
<p>It is very convenient to get easily readable information about a node.
The status command displays the currently active connections and their
state. It also display device information and the clustering state.</p>
</div>
<div class="paragraph">
<p>The following will be printed on the local terminal after the command
was entered:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Node BBBBB (nodeId: 1) vers: 80000, NodeKey: 01:00:....:00:00

Mesh clusterSize:10, clusterId:4201185286
Enrolled 1: networkId:10, deviceType:0, NetKey 04:00:....:00:00, UserBaseKey 00:00:....:00:00
Addr:00:00:00:01:00:00, ConnLossCounter:3, AckField:0, State: 1

CONNECTIONS 2 (freeIn:0, freeOut:2, pendingPackets:0
IN (0) FM 7, state:4, cluster:fa690006(8), sink:-1, Queue:0-0(0), Buf:1/7, mb:0, hnd:16
OUT(1) FM 10, state:4, cluster:fa690006(1), sink:-1, Queue:0-0(0), Buf:1/7, mb:1, hnd:17</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_the_discovery_state"><a class="anchor" href="#_setting_the_discovery_state"></a>Setting The Discovery State</h3>
<div class="paragraph">
<p><code>action [nodeId] node discovery [on / off]</code></p>
</div>
<div class="paragraph">
<p>It might be necessary to switch the node&#8217;s state machine into a
different discovery state. This can be done through the mesh and can be
used by a MeshGateway to turn off discovery once all enrolled nodes are
connected. This allows the node to use a very low power consumption if
scanning doesn&#8217;t need to be active for other tasks.</p>
</div>
<div class="paragraph">
<p>Once the node loses a connection to one of its partners, it will
automatically switch discovery on again.</p>
</div>
<div class="paragraph">
<p>Examples</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">//E.g. switch discovery off for all nodes
action 0 node discovery off</code></pre>
</div>
</div>
<div class="paragraph">
<p>The response acknowledges the receipt of the command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Javascript hljs" data-lang="Javascript">{"type":"set_discovery_result","nodeId":123,"module":0}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ping_a_node"><a class="anchor" href="#_ping_a_node"></a>Ping a node</h3>
<div class="paragraph">
<p><code>action [nodeId] node ping {requestHandle}</code></p>
</div>
<div class="paragraph">
<p>Pings the given nodeId. Once received, a ping response is sent back.</p>
</div>
<div class="paragraph">
<p>Examples</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">action 123 node ping
action 123 node ping 100 //Ping with request handle 100</code></pre>
</div>
</div>
<div class="paragraph">
<p>The response acknowledges the receipt of these commands.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Javascript hljs" data-lang="Javascript">{"type":"ping","nodeId":123,"module":0,"requestHandle":0}
{"type":"ping","nodeId":123,"module":0,"requestHandle":100}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_generating_load"><a class="anchor" href="#_generating_load"></a>Generating Load</h3>
<div class="paragraph">
<p><code>action [nodeId] node generate_load [target] [size] [amountOfMessages] [timeBetweenMessagesDs] {requestHandle}</code></p>
</div>
<div class="paragraph">
<p>Can be used to put message load on the mesh, mainly for measuring and debug purposes of installations (thus not part of the DebugModule). After the node with nodeId receives this message it will send messages with a payload of size every timeBetweenMessagesDs to the target until it sent a total of amountOfMessages.</p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">action 2 node generate_load 3 10 2 13 18</code></pre>
</div>
</div>
<div class="paragraph">
<p>The response acknowledges the receipt of this command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Javascript hljs" data-lang="Javascript">{"type":"start_generate_load_result","nodeId":2,"requestHandle":18}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and starts sending generate_load_chunk messages to node 3. Node 3 then logs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Javascript hljs" data-lang="Javascript">{"type":"generate_load_chunk","nodeId":2,"size":10,"payloadCorrect":1,"requestHandle":18}
{"type":"generate_load_chunk","nodeId":2,"size":10,"payloadCorrect":1,"requestHandle":18}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_querying_device_capabilities"><a class="anchor" href="#_querying_device_capabilities"></a>Querying Device Capabilities</h3>
<div class="paragraph">
<p><code>request_capability [nodeId]</code></p>
</div>
<div class="paragraph">
<p>Requests the capabilities of the node with <em>nodeId</em> (NodeId 0 cannot be used with this command). The receiver then answers with several messages, each representing a single capability. After all capabilities are sent, the receiver sends a last message indicating the end of the transaction.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
A single capability message is a rather big message with 128 bytes in size. As such only a single node in the mesh should be queried for it&#8217;s capabilities at a time, else the mesh would be put under heavy load. Broadcasting this command is not supported by the firmware for this reason.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">//Requesting capabilities of node 4
request_capability 4</code></pre>
</div>
</div>
<div class="paragraph">
<p>The receiver sends all its capabilities:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Javascript hljs" data-lang="Javascript">{
	"nodeId":4,
	"type":"capability_entry",
	"index":0, // Ascending unique number for each capability
	"capabilityType":2, // 1: Hardware, 2: Software
	"manufacturer":"M-Way Solutions GmbH", // Up to 31 chars
	"model":"BlueRange Node", // Up to 52 chars
	"revision":"0.8.451" // Up to 31 chars
}
{
	"nodeId":4,
	"type":"capability_entry",
	"index":1,
	"capabilityType":1,
	"manufacturer":"Vendor GmbH",
	"model":"Super Fast Chip",
	"revision":"Full ASCII support &lt;(^.^)&gt; 4.1"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And ends the transaction:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Javascript hljs" data-lang="Javascript">{
	"nodeId":4,
	"type":"capability_end",
	"amount":2 // The amount of capabilities just sent. Can be used to check if all capabilities were received.
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_preferred_connections"><a class="anchor" href="#_setting_preferred_connections"></a>Setting Preferred Connections</h3>
<div class="paragraph">
<p><code>action [nodeId] node set_preferred_connections [ignored / penalty] {up to eight preferred nodeIDs}</code></p>
</div>
<div class="paragraph">
<p>Sets the given node IDs as preferred connection partners while meshing. Other partners will be either completely ignored or their cluster score gets a heavy penalty. Executing this command without any nodeID disables this feature. After saving the preferred connections, the node reboots after a delay of 10 seconds. The "ignored / penalty" parameter determines the behaviour regarding the unpreferred connection partners, meaning any node ID that is NOT in the associated list.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For a connection to happen, both connection partners have to set each other as a preferred connection partner. This means to set the preferred connections of a mesh, it is best to start at the leaves of the mesh.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Using this command with the "ignored" parameter must be used with caution as using invalid or unreachable nodeIDs results in a state where the mesh can not be created. If this happened, there are two options:<br>
1. Flash the beacon. This erases the set preferred connections.<br>
2. Connect to the beacon via a mesh access connection and execute the command again with the correct parameters.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">//E.g. Sets the preferred connections of 123 to 17, 32 and 12. Other connections partners are ignored for meshing.
action 123 node set_preferred_connections ignored 17 32 12</code></pre>
</div>
</div>
<div class="paragraph">
<p>The response acknowledges the receipt of the command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Javascript hljs" data-lang="Javascript">{"type":"set_preferred_connections_result","nodeId":123,"module":0}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sensor_and_actuator_messages"><a class="anchor" href="#_sensor_and_actuator_messages"></a>Sensor and Actuator Messages</h3>
<div class="paragraph">
<p>The node includes functionality to send sensor messages and actuator messages in a vendor specific manner using a generic packet. This is documented under <a href="SensorsAndActuators.html" class="page">Sensors and Actuators</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="TimeSynchronization"><a class="anchor" href="#TimeSynchronization"></a>Time Synchronization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To synchronize a time over the mesh, the
time needs first to be set on the local node using the <em>settime</em> command.
The time is stored internally as an unsigned 32-bit integer.</p>
</div>
<div class="paragraph">
<p><code>settime [u32 unixTimestampSec] [i16 offsetMinutes]</code></p>
</div>
<div class="paragraph">
<p>Afterwards, the time of the local node can be queried using:</p>
</div>
<div class="paragraph">
<p><code>gettime</code></p>
</div>
<div class="paragraph">
<p>The output gives the current time and date of the node in a
human-readable format. This is only an approximate
calculation. It is just to verify if the time was set correctly.
Internally, the nodes work with Unix time stamps.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_querying_active_modules"><a class="anchor" href="#_querying_active_modules"></a>Querying Active Modules</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>get_modules [nodeId]</code></p>
</div>
<div class="paragraph">
<p>Often it is necessary to get a list of modules that are available on a
node. The list provided by the <em>get_modules</em> command includes
all modules that are available
(compiled into the firmware): their <em>moduleId</em>, their version and whether
they are currently active.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Javascript hljs" data-lang="Javascript">{
    "nodeId": 1,
    "type": "module_list",
    "modules": [
        {
            "id": 1,
            "version": 2,
            "active": 1
        },
        {
            "id": 2,
            "version": 1,
            "active": 0
        },
        // ...
    ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rawsend"><a class="anchor" href="#_rawsend"></a>Rawsend</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>rawsend [dataHex]</code></p>
</div>
<div class="paragraph">
<p>Mostly used for debugging purpose, the rawsend command can be used to send any binary message through the mesh (as long as it is valid). The data can be given either base64 encoded or as a hex string with colons.</p>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">//Can be entered on nodeId 1 to send a get_status request to all nodes
//(messageType 0x33, senderId 0x0001, receiverId 0x0000, moduleId x03, requestHandle 0x00, actionType 0x01)
rawsend 33:01:00:00:00:03:00:01</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_raw_data"><a class="anchor" href="#_raw_data"></a>Raw Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The node offers functionality for sending custom data through the mesh using a lightweight wrapper for either big or small messages. This is documented at the <a href="RawData.html" class="page">RawData</a> page.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_messages"><a class="anchor" href="#_messages"></a>Messages</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_clustering_messages"><a class="anchor" href="#_clustering_messages"></a>Clustering Messages</h3>
<div class="sect3">
<h4 id="_clusterwelcome_local_handshake_between_two_nodes"><a class="anchor" href="#_clusterwelcome_local_handshake_between_two_nodes"></a>ClusterWelcome (Local Handshake Between Two Nodes)</h4>
<div class="paragraph">
<p>The <em>ClusterWelcome</em> Packet is sent be the node that thinks it has the bigger cluster. If not, the other node will also send a <em>ClusterWelcome</em> packet so both nodes know who is bigger.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bytes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="Specification.html#connPacketHeader" class="page">connPacketHeader</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">header</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>messageType</em>: MESSAGE_TYPE_CLUSTER_WELCOME(20)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ClusterId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clusterId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID of the cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ClusterSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clusterSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of the cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">meshWriteHandle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Write handle for RX characteristics of the mesh for data transmission. (Allows to skip service discovery)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ClusterSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hopsToSink</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of hops to sink if there is one, otherwise -1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">preferredConnectionInterval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Preferred interval for the <em>meshConnection</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NetworkId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">networkId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network ID of the other clusters</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_clusterack1_local_handshake_between_two_nodes"><a class="anchor" href="#_clusterack1_local_handshake_between_two_nodes"></a>ClusterAck1 (Local Handshake Between Two Nodes)</h4>
<div class="paragraph">
<p>Acknowledge packet sent by the smaller cluster to acknowledge that it is now participating in the mesh.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bytes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="Specification.html#connPacketHeader" class="page">connPacketHeader</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">header</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>messageType</em>: <code>MESSAGE_TYPE_CLUSTER_ACK_1</code> (21)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ClusterSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hopsToSink</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hops to the shortest sink</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">preferredConnectionInterval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Preferred interval for the <em>meshConnection</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_clusterack2_local_handshake_between_two_nodes"><a class="anchor" href="#_clusterack2_local_handshake_between_two_nodes"></a>ClusterAck2 (Local Handshake Between Two Nodes)</h4>
<div class="paragraph">
<p>Acknowledge packet sent by the bigger cluster after receiving ack1 from the smaller cluster</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bytes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="Specification.html#connPacketHeader" class="page">connPacketHeader</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">header</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">messageType: <code>MESSAGE_TYPE_CLUSTER_ACK_2</code> (22)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ClusterId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clusterId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID of the cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ClusterSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clusterSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of the cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ClusterSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hopsToSink</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of hops to sink if there is one, otherwise -1.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_clusterinfoupdate"><a class="anchor" href="#_clusterinfoupdate"></a>ClusterInfoUpdate</h4>
<div class="paragraph">
<p>This packet informs a node about a change in the cluster size or structure. It can be sent throughout the mesh but is modified on each node before resending. It will only give the change in clusterSize and not the absolute value, the node must keep count itself. It will however give the absolute size if it is sent over a MeshAccessConnection.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bytes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="Specification.html#connPacketHeader" class="page">connPacketHeader</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">header</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>messageType</em>: <code>MESSAGE_TYPE_CLUSTER_INFO_UPDATE</code> (23)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">reserved</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>deprecated</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ClusterSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clusterSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change in <em>clusterSize</em> or absolute size</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ClusterSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hopsToSink</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of hops to sink if there is one, otherwise -1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 bit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u8 : 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">connectionMasterBitHandover</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hands over the <em>masterBit</em> to the bigger cluster. If sent over the <em>MeshAccessConnection</em>, this is 1 if the node has the <em>masterBit</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 bit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u8 : 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Next expected sequence number for <em>clusterUpdate</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 bit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u8 : 6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">reserved</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_ping"><a class="anchor" href="#_ping"></a>ping</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bytes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="Specification.html#connPacketModule" class="page">connPacketModule</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conn Packet Module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ModuleId = 0, Message Type = 51, Action Type = 3.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_ping_response"><a class="anchor" href="#_ping_response"></a>ping response</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bytes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="Specification.html#connPacketModule" class="page">connPacketModule</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conn Packet Module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ModuleId = 0, Message Type = 52, Action Type = 3.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_start_generate_load"><a class="anchor" href="#_start_generate_load"></a>start generate load</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bytes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="Specification.html#connPacketModule" class="page">connPacketModule</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conn Packet Module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ModuleId = 0, Message Type = 51, Action Type = 4.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NodeId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">target</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NodeId of the the target that should receive the chunks.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of the payload of each chunk.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of chunks to send.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">timeBetweenMessagesDs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time between each chunk in deciseconds.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_start_generate_load_response"><a class="anchor" href="#_start_generate_load_response"></a>start generate load response</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bytes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="Specification.html#connPacketModule" class="page">connPacketModule</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conn Packet Module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ModuleId = 0, Message Type = 52, Action Type = 4.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_generate_load_chunk"><a class="anchor" href="#_generate_load_chunk"></a>generate load chunk</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bytes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="Specification.html#connPacketModule" class="page">connPacketModule</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conn Packet Module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ModuleId = 0, Message Type = 51, Action Type = 5.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0-255</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u8[0-255]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The dummy payload, filled with the magic value 0x91.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Node Module (ID 0)</h3>
  <div id="article-toc"></div>
</aside>
  </main>
</div>
  <footer class="footer fruitymesh-footer-padding">
<p>This project is under active development at the <a href="http://www.mwaysolutions.com/" >M-Way Solutions GmbH,</a> Germany.</p>
<p>We use FruityMesh ourselves in conjunction with our custom MeshGateway to build services such as connected lights, asset tracking and much more for our customers.</p>
</footer>
<script type="text/javascript">
  window.antora = window.antora || {}
  window.antora.basePath = '..'
  window.antora.pagePath = '/fruitymesh/Node.html'
</script>
<script src="../_/js/site.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js"></script>
<script src="../_/js/vendor/search.js"></script>
<script async src="../_/../search-index.js"></script>
<script src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/zoom.js"></script>
<script>hljs.initHighlighting()</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script>
  tocbot.init({
    tocSelector: '#article-toc',
    contentSelector: 'article',
    headingSelector: 'h2, h3, h4, h5, h6',
    collapseDepth: 6,
    positionFixedSelector: '#article-toc',
    scrollSmooth: true,
  });
  var tocList = document.getElementById('article-toc').getElementsByClassName('toc-list');
  if (tocList && tocList.length > 0 && tocList[0].childNodes.length > 0) {
    document.getElementById('article-toc').parentNode.classList.remove('hidden');
  }
</script>
</body>

</html>
