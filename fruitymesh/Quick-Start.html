<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quick Start :: Fruitymesh</title>
  <link rel="canonical" href="http://mwaylabs.github.io/fruitymesh/fruitymesh/Quick-Start.html">
  <meta name="generator" content="Antora 2.1.1">
  <link rel="stylesheet" href="../_/css/site.css">
  <link rel="stylesheet" href="../_/css/footer.css">
</head>

<body class="article">
  <header class="header" role="banner">
<header class="header" role="banner">
  <div class="navbar-top">
    <a class="navbar-logo" id="fruitymesh-logo-padding" href="https://mwaylabs.github.io/fruitymesh/fruitymesh/index.html">
      <div class="navbar-item">
        <img src="../_/img/fruitymesh_logo.png" alt="Fruitymesh">
      </div>
    </a>
    <div class="navbar-item">
      <div id="search-wrapper" class="border-color-fruitymesh>
        <input id="search-input" type="text" placeholder="Search...">
      </div>
    </div>
  </div>
  <nav class="navbar-bottom fruitymesh-header-color">
    <a href="https://github.com/mwaylabs/fruitymesh">
      <div class="navbar-item">Fruitymesh on Github</div>
    </a>
  </nav>
</header>

</header>
  <div class="main-wrapper">
<div class="navigation-container" data-component="" data-version="master">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <button class="navigation-toggle"></button>
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="Quick-Start.html">Quick Start</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="BasicUsage.html">Basic Usage</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Concepts.html">Concepts</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Features.html">Features</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Specification.html">Specification</a>
      </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Developers</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Developers.html">Developer Overview</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Class-Structure.html">Class Structure</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Debugging.html">Debugging</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ModuleDocumentationTemplate.html">Module Documentation Template</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="BuildingWithCMake.html">Building with CMake</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VsCodeSetup.html">VsCode Setup</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="CppCheck.html">CppCheck Setup</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Mesh</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Node.html">Node</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Connections.html">Connections</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Core Functionality</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="AdvertisingController.html">AdvertisingController</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="BoardConfig.html">Board Configuration</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="FruityHal.html">FruityHal</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Logger.html">Logger</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="RawData.html">RawData Protocol</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="RecordStorage.html">Record Storage</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ScanController.html">ScanController</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="SensorsAndActuators.html">Sensors and Actuators</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Terminal.html">Terminal</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Modules</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Modules.html">Module Overview</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="AdvertisingModule.html">AdvertisingModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="DebugModule.html">DebugModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="DfuModule.html">DfuModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="EnrollmentModule.html">EnrollmentModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="IoModule.html">IoModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="MeshAccessModule.html">MeshAccessModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ScanningModule.html">ScanningModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="StatusReporterModule.html">StatusReportModule</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Simulator</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="CherrySim.html">CherrySim</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Measurements</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Battery-Consumption.html">Battery Consumption</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Throughput.html">Throughput</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">The Fruitymesh Algorithm</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="The-FruityMesh-Algorithm.html">The Fruitymesh Algorithm Basics</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="The-Algorithm-in-Detail.html">The Algorithm in Detail</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Tutorials</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Tutorials.html">Tutorial Overview</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Implementing-a-Custom-Module.html">Implementing a Custom Module</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="FAQ.html">FAQ</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="FAQ.html">FAQ</a>
      </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<article class="doc"><a name="section-top"></a>
<h1>Quick Start</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>FruityMesh can be built using GCC and is mainly written in C, with some small C11 bits. Setting up the development environment has become pretty straightforward.</p>
</div>
<div class="paragraph">
<p>You have three possibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Precompiled">Flashing the precompiled firmware</a> will take you about <strong>5 minutes</strong>.</p>
</li>
<li>
<p>If you want to <strong>compile it yourself</strong> you need to <a href="#Toolchain">setup the Toolchain with VsCode &amp; Compile FruityMesh</a>. This will take you a few more minutes until everything is ready to go.</p>
</li>
<li>
<p>We also offer a <strong>simulator</strong> that allows you to do a lot of the development work on your computer instead of on the hardware itself. You can set up mesh networks of hundreds of nodes at the same time while being able to control and debug them all. Take a look at <a href="CherrySim.html" class="page">CherrySim</a> for building and usage instructions.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Precompiled"><a class="anchor" href="#Precompiled"></a>Flashing Precompiled Firmware</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The precompiled firmware can be flashed in three easy steps.</p>
</div>
<div class="sect2">
<h3 id="_download_nrf5_command_line_tools"><a class="anchor" href="#_download_nrf5_command_line_tools"></a>Download nRF5 Command Line Tools</h3>
<div class="paragraph">
<p>The nRF Command Line Tools are handy for flashing the compiled firmware on a device. You can download them here for the operating system of your choice and install them:</p>
</div>
<div class="paragraph">
<p><a href="https://www.nordicsemi.com/Software-and-tools/Development-Tools/nRF-Command-Line-Tools" class="bare">https://www.nordicsemi.com/Software-and-tools/Development-Tools/nRF-Command-Line-Tools</a></p>
</div>
<div class="paragraph">
<p>The tools come with a bundled installation of the Segger Utilities, which are necessary for flashing and debugging nRF Hardware.</p>
</div>
<div class="paragraph">
<p>You should add the <strong>bin/</strong> folder of the installation to your operating system PATH variable to make development easier.</p>
</div>
</div>
<div class="sect2">
<h3 id="_flash_softdevice_application"><a class="anchor" href="#_flash_softdevice_application"></a>Flash SoftDevice &amp; Application</h3>
<div class="paragraph">
<p>Plug in your nrf52 development board via USB, then open a command prompt in the FruityMesh folder and type in the following command for flashing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>C:/&lt;path_to_nrfjprog&gt;/nrfjprog.exe --chiperase --program binary/fruitymesh_nrf52_s132.hex --reset</pre>
</div>
</div>
<div class="paragraph">
<p>Your output should look like this:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/flashing.png" alt="flashing"></span></p>
</div>
<div class="paragraph">
<p>If you have multiple boards attached, you will be prompted for the id of your board that should be flashed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_next_steps"><a class="anchor" href="#_next_steps"></a>Next Steps</h3>
<div class="paragraph">
<p>You&#8217;re now ready to test FruityMesh. Continue by reading the <a href="#GetStarted">Get Started</a> section.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Toolchain"><a class="anchor" href="#Toolchain"></a>Compile FruityMesh</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FruityMesh is built using the GCC compiler toolchain together with CMake and GNU make. The installation process varies a little for each operating system.</p>
</div>
<div class="sect2">
<h3 id="_installing_the_toolchain"><a class="anchor" href="#_installing_the_toolchain"></a>Installing the Toolchain</h3>
<div class="sect3">
<h4 id="_gnu_arm_embedded_toolchain"><a class="anchor" href="#_gnu_arm_embedded_toolchain"></a>GNU ARM Embedded Toolchain</h4>
<div class="paragraph">
<p>Download Version 4.9 of the GNU ARM Embedded Toolchain. This includes the compiler gcc, linker, and multiple utilities like objcopy, addr2line and gdb - the GNU debugger:</p>
</div>
<div class="paragraph">
<p><a href="https://launchpad.net/gcc-arm-embedded/4.9/4.9-2015-q3-update/" class="bare">https://launchpad.net/gcc-arm-embedded/4.9/4.9-2015-q3-update/</a></p>
</div>
<div class="paragraph">
<p>Unzip the downloaded package into a folder of your choice.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Do not choose a newer version, as this might fail to compile.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_installing_cmake"><a class="anchor" href="#_installing_cmake"></a>Installing CMake</h4>
<div class="paragraph">
<p>Download and install the latest Version of CMake:</p>
</div>
<div class="paragraph">
<p><a href="https://cmake.org/download/" class="bare">https://cmake.org/download/</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_tools_installation_windows_only"><a class="anchor" href="#_tools_installation_windows_only"></a>Tools Installation (Windows Only)</h4>
<div class="paragraph">
<p>Next, if you are working on windows, you have to download and install some unix utilities, the GNU ARM Eclipse Build Tools. This includes <em>make</em>, <em>sh</em>, <em>rm</em> and some others. Version 2.4 has been tested successfully and the executable installer can be downloaded from here:</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/gnu-mcu-eclipse/windows-build-tools/releases/tag/v2.4b" class="bare">https://github.com/gnu-mcu-eclipse/windows-build-tools/releases/tag/v2.4b</a></p>
</div>
<div class="paragraph">
<p>Because most makefiles will also use the <em>mkdir</em> command and maybe some others, you should also download the GNU Coreutils that provide a set of UNIX commands in binary for Windows. Copy at least the <code>mkdir.exe</code> and <code>md5.exe</code> to the <code>bin/</code> folder of your GNU ARM Build Tools installation. You must also download the dependencies and copy these to the same folder (Two <code>.dll</code> files).</p>
</div>
<div class="paragraph">
<p>Binaries:</p>
</div>
<div class="paragraph">
<p><a href="http://gnuwin32.sourceforge.net/downlinks/coreutils-bin-zip.php" class="bare">http://gnuwin32.sourceforge.net/downlinks/coreutils-bin-zip.php</a></p>
</div>
<div class="paragraph">
<p>Dependencies:</p>
</div>
<div class="paragraph">
<p><a href="http://gnuwin32.sourceforge.net/downlinks/coreutils-dep-zip.php" class="bare">http://gnuwin32.sourceforge.net/downlinks/coreutils-dep-zip.php</a></p>
</div>
<div class="paragraph">
<p>Finally, you should add the bin folders of the gnu buildtools and the <code>bin</code> folder of <code>gcc-arm-embedded</code> to your PATH variable under System Environment. This will make sure that you can access these tools from anywhere.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_building_fruitymesh"><a class="anchor" href="#_building_fruitymesh"></a>Building FruityMesh</h3>
<div class="paragraph">
<p>Now, you have a few options on how to build FruityMesh. We recommend using VsCode for building and coding with FruityMesh as it has a really nice CMake integration and can be set up in a short time.</p>
</div>
</div>
<div class="sect2">
<h3 id="_option_1_using_vscode"><a class="anchor" href="#_option_1_using_vscode"></a>Option 1: Using VsCode</h3>
<div class="paragraph">
<p>If you do not have VsCode installed, get it for your platform from:</p>
</div>
<div class="paragraph">
<p><a href="https://code.visualstudio.com/" class="bare">https://code.visualstudio.com/</a></p>
</div>
<div class="paragraph">
<p>Next, you must install some extensions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CMake Tools: <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cmake-tools" class="bare">https://marketplace.visualstudio.com/items?itemName=ms-vscode.cmake-tools</a></p>
</li>
<li>
<p>C/C++ Tools: <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools" class="bare">https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_configure_the_project"><a class="anchor" href="#_configure_the_project"></a>Configure the Project</h4>
<div class="paragraph">
<p>In order to configure the project, you should create the file <code>&lt;fruitymesh&gt;/.vscode/settings.json</code>. Create the folder if it does not yet exist and make sure to replace the path with the correct path that points to your GCC installation. (In case of problems see <a href="VsCodeSetup.html#Troubleshooting" class="page">Troubleshooting</a>)</p>
</div>
<div class="listingblock">
<div class="title">settings.json</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">{
    "cmake.configureSettings":{
        "GCC_PATH":"C:/&lt;your_path&gt;/gcc-arm-embedded-4.9-2015q3",
        "BUILD_FEATURESETS":"ON"
    },
    "cmake.buildDirectory": "${workspaceFolder}/_build/vscode/",
    "cmake.configureOnOpen": true,
    "cmake.generator":"Unix Makefiles"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, if not already opened, you should open VsCode and use <code>File &#8658; Open Folder</code> to open the FruityMesh project folder. This should look similar to the following screenshot, with the <code>.vscode</code> folder as part of the repository.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/vscode_project.png" alt="vscode project"></span></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If there are popups that ask you to allow Intellisense to be configured or if you want to use the compiler_commands.json file for configuring IntelliSense, click yes to have better indexing and code navigation support. This is mentioned up front as these popups might disappear fast. Don&#8217;t worry, they will pop up again at some time.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>First, you have to select the Kit by clicking on "No Kit Selected" in the bottom bar of VsCode. You need to choose the installed GCC ARM Embedded 4.9 toolchain.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/vscode_kit.png" alt="kit selection"></span></p>
</div>
<div class="paragraph">
<p>Next, switch to the CMake Panel on the left side and click "Configure".</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/vscode_cmake.png" alt="cmake panel"></span></p>
</div>
<div class="paragraph">
<p>This should automatically trigger the CMake configuration and load all available featuresets</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/vscode_featuresets.png" alt="featuresets"></span></p>
</div>
<div class="paragraph">
<p>You are now able to build the binary targets by clicking on the build button next to the featureset. There are also a number of Utility targets. If you right click a Utility target and choose "Run Utility", it will first build the target and then flash the application and SoftDevice on any attached development board.</p>
</div>
<div class="paragraph">
<p>For more information about VsCode, how to setup Debugging or for some Troubleshooting, make sure to also read the <a href="VsCodeSetup.html" class="page">VsCode Setup</a> page.</p>
</div>
<div class="paragraph">
<p>You can now continue with the <a href="#GetStarted">Get Started</a> section.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_option_2_manual_cmake_project_configuration"><a class="anchor" href="#_option_2_manual_cmake_project_configuration"></a>Option 2: Manual CMake Project Configuration</h3>
<div class="paragraph">
<p>If you want to build FruityMesh on the command line, use the following instructions. Further explanation can be found under <a href="#BuildingWithCmake.adoc" class="page unresolved">Building With CMake</a></p>
</div>
<div class="paragraph">
<p>Open a commandline in <code>&lt;fruitymesh&gt;/_build/commandline</code> and execute the following command within that directory. Make sure to replace the path to GCC to fit your installation (use forward slashes "<strong>/</strong>"):</p>
</div>
<div class="paragraph">
<p><code>cmake "../../" -DBUILD_FEATURESETS=ON -DGCC_PATH="C:/&lt;yourpath&gt;/gcc-arm-none-eabi-4_9" -G "Unix Makefiles"</code></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The GCC_PATH must be specified using forward slashes "<strong>/</strong>", not backward slashes "<strong>\</strong>", otherwhise cmake will complain about <code>Invalid character escape '\m'</code>. You have to delete all files in your build directory before executing the command again to solve the issue! In case of other errors, make sure to have a look at <a href="#BuildingWithCmake.adoc#Troubleshooting" class="page unresolved">Building With CMake</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Next, from the same directory, execute the following command:</p>
</div>
<div class="paragraph">
<p><code>cmake --build . --target github_nrf52</code></p>
</div>
<div class="paragraph">
<p>Any other <a href="Developers.html#Featuresets" class="page">Featureset</a> may be used as well as a target.</p>
</div>
<div class="paragraph">
<p>If you installed the nRF Command Line Tools and properly configured the <code>PATH</code>, you can now type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>`cmake --build . --target github_nrf52_flash`</pre>
</div>
</div>
<div class="paragraph">
<p>to flash the firmware on a device. This also works with any other <a href="Developers.html#Featuresets" class="page">Featureset</a> by appending "_flash" to the name.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The safest and most straight forward setup for flashing is to only have a single board connected to the computer while flashing.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can now continue with the <a href="#GetStarted">Get Started</a> section.</p>
</div>
<div class="sect3">
<h4 id="_option_3_using_eclipse_for_development_not_recommended"><a class="anchor" href="#_option_3_using_eclipse_for_development_not_recommended"></a>Option 3: Using Eclipse For Development (Not recommended)</h4>
<div class="paragraph">
<p><span class="image"><img src="_images/eclipsescreen.png" alt="eclipsescreenshot"></span></p>
</div>
<div class="paragraph">
<p>Eclipse is a good development IDE but its CMake integration is a bit outdated. The following setup will work, but you might experience issues with the code indexer. You should create a directory next to the fruitymesh directory, that you can call e.g. <code>fruitymesh_eclipse</code>. This is necessary as eclipse will otherwise not properly display the sourcecode directory in the project.</p>
</div>
<div class="paragraph">
<p>To generate the project settings, open a commandline in the <code>fruitymesh_eclipse</code> folder and execute:</p>
</div>
<div class="paragraph">
<p><code>cmake ../fruitymesh -DBUILD_FEATURESETS=ON -DGCC_PATH="C:/&lt;yourpath&gt;/gcc-arm-none-eabi-4_9" -G "Eclipse CDT4 - Unix Makefiles"</code></p>
</div>
<div class="paragraph">
<p>After starting Eclipse, all you have to do is to import the generated FruityMesh project. You can then develop, flash and debug in a comfortable way.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="GetStarted"><a class="anchor" href="#GetStarted"></a>Get Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now, let&#8217;s see how we can use FruityMesh. The precompiled firmware and the standard project settings are configured so that all devices immediately connect to each other. Start by plugging in your first development kit.</p>
</div>
<div class="sect2">
<h3 id="_open_serial_terminal_connect"><a class="anchor" href="#_open_serial_terminal_connect"></a>Open Serial Terminal &amp; Connect</h3>
<div class="paragraph">
<p>FruityMesh offers a <a href="Terminal.html" class="page">Terminal</a> to interact with the firmware. On Windows, <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PuTTY</a> is the best tool for this job. The screen utility can be used on macOS or Linux. You have to connect to UART using the following settings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Serial line to connect to:</strong> COMX (see blow)</p>
</li>
<li>
<p><strong>Connection Type:</strong> Serial</p>
</li>
<li>
<p><strong>Speed:</strong> 1000000</p>
</li>
<li>
<p><strong>Data bits:</strong> 8</p>
</li>
<li>
<p><strong>Stop Bits:</strong> 1</p>
</li>
<li>
<p><strong>Parity:</strong> None</p>
</li>
<li>
<p><strong>Flow control:</strong> RTS/CTS (Hardware)</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
OSX users: To find out which serial port to open, you can list all devices under <code>/dev/cu.</code> and pick the one that says usbmodem.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
On Windows you can find the correct COM port to connect to by opening the device manager and then under (COM &amp; LPT) you should see a JLink entry with the COM number at the end (e.g. COM3). All the serial settings can be found in PuTTY under Connection/Serial.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can also use the Segger RTT viewer to connect to the terminal of the node. Just open the viewer and select the correct settings while the debugger is connected to your computer.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_reset_development_kit"><a class="anchor" href="#_reset_development_kit"></a>Reset Development Kit</h3>
<div class="paragraph">
<p>Once your terminal is connected to the serial port, press the reset button on the Development Kit and the Terminal should provide you with some output similar to this:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/terminal.png" alt="Terminal"></span></p>
</div>
<div class="paragraph">
<p>If you don&#8217;t get output immediately it will sometimes help to disconnect the Devkit from USB for a short time or try to write something. This is an issue of the Segger Debugger chipset that bridges the UART.</p>
</div>
</div>
<div class="sect2">
<h3 id="_try_some_commands"><a class="anchor" href="#_try_some_commands"></a>Try Some Commands</h3>
<div class="paragraph">
<p>You may now enter a number of commands to trigger actions. Here are some important ones:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>status:</strong> displays the status of the node and its connections</p>
</li>
<li>
<p><strong>reset:</strong> performs a system reset</p>
</li>
<li>
<p><strong>data:</strong> sends data through the mesh that other nodes then output to the terminal</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_connect_second_development_kit"><a class="anchor" href="#_connect_second_development_kit"></a>Connect Second Development Kit</h3>
<div class="paragraph">
<p>Next, flash and connect another node to the network and you should observe that they connect to each other after a short amount of time. You&#8217;ll see that the LEDs will switch from blinking red to a single green pattern.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you enter the command <strong>action 0 io led on</strong>, both nodes should
switch their led to white (all LEDs on). After you enter <strong>action 0 io led off</strong>, it will go back to connection signaling mode.</p>
</li>
<li>
<p>Now, connect with another terminal to the second node and enter <strong>data</strong> in the command prompt and observe how the data is sent to the other node and outputted on the other terminal.</p>
</li>
<li>
<p>You can add as many nodes as you like to the network and see how it reacts. If you remove a node, the network will try to repair this connection. You can observe the size change of the cluster by entering <strong>status</strong> from time to time.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Two nodes will only connect to each other once they have been enrolled in the same network. The Github configuration will automatically have all nodes enrolled in the same network after flashing. If you do not want this, take a look at the <a href="Specification.html#UICR" class="page">UICR configuration</a> or change the default network id to 0.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_whats_next"><a class="anchor" href="#_whats_next"></a>What&#8217;s Next</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Take a look at the <a href="Features.html" class="page">Features</a> page for a detailed overview of the possibilities and check out <a href="BasicUsage.html" class="page">Basic Usage</a> for usage instructions. If you&#8217;re ready to contribute to the development of FruityMesh, cf. <a href="Developers.html" class="page">Developers</a> for a roadmap and for instructions on how to participate.</p>
</div>
<div class="paragraph">
<p>If you want to start programming with FruityMesh, you should have a look at the <a href="Tutorials.html" class="page">Tutorials</a> page for a guided introduction.</p>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Quick Start</h3>
  <div id="article-toc"></div>
</aside>
  </main>
</div>
  <footer class="footer fruitymesh-footer-padding">
<p>This project is under active development at the <a href="http://www.mwaysolutions.com/" >M-Way Solutions GmbH,</a> Germany.</p>
<p>We use FruityMesh ourselves in conjunction with our custom MeshGateway to build services such as connected lights, asset tracking and much more for our customers.</p>
</footer>
<script type="text/javascript">
  window.antora = window.antora || {}
  window.antora.basePath = '..'
  window.antora.pagePath = '/fruitymesh/Quick-Start.html'
</script>
<script src="../_/js/site.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js"></script>
<script src="../_/js/vendor/search.js"></script>
<script async src="../_/../search-index.js"></script>
<script src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/zoom.js"></script>
<script>hljs.initHighlighting()</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script>
  tocbot.init({
    tocSelector: '#article-toc',
    contentSelector: 'article',
    headingSelector: 'h2, h3, h4, h5, h6',
    collapseDepth: 6,
    positionFixedSelector: '#article-toc',
    scrollSmooth: true,
  });
  var tocList = document.getElementById('article-toc').getElementsByClassName('toc-list');
  if (tocList && tocList.length > 0 && tocList[0].childNodes.length > 0) {
    document.getElementById('article-toc').parentNode.classList.remove('hidden');
  }
</script>
</body>

</html>
