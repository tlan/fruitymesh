<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Class Structure :: Fruitymesh</title>
  <link rel="canonical" href="http://mwaylabs.github.io/fruitymesh/fruitymesh/Class-Structure.html">
  <meta name="generator" content="Antora 2.0.0">
  <link rel="stylesheet" href="../_/css/site.css">
  <link rel="stylesheet" href="../_/css/footer.css">
<link rel="icon" type="image/png" href="../_/img/favicon.png" />
</head>

<body class="article">
  <header class="header" role="banner">
<header class="header" role="banner">
  <div class="navbar-top">
    <a class="navbar-logo" id="fruitymesh-logo-padding" href="https://mwaylabs.github.io/fruitymesh/fruitymesh/index.html">
      <div class="navbar-item">
        <img src="../_/img/fruitymesh_logo.png" alt="Fruitymesh">
      </div>
    </a>
    <div class="navbar-item">
      <div id="search-wrapper">
        <input id="search-input" type="text" placeholder="Search...">
      </div>
    </div>
  </div>
  <nav class="navbar-bottom fruitymesh-header-color">
    <a href="https://github.com/mwaylabs/fruitymesh">
      <div class="navbar-item">Fruitymesh on Github</div>
    </a>
  </nav>
</header>

</header>
  <div class="main-wrapper">
<div class="navigation-container" data-component="" data-version="master">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <button class="navigation-toggle"></button>
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Quick-Start.html">Quick Start</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Usage.html">Usage</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Features.html">Features</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Developers.html">Developers</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Specification.html">Specification</a>
      </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="Modules.html">Modules</a>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="AdvertisingModule.html">Advertising Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="DebugModule.html">Debug Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="DfuModule.html">DFU Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="EnrollmentModule.html">Enrollment Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="IoModule.html">IO Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="MeshAccessModule.html">Mesh Access Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Node.html">Node</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ScanningModule.html">Scanning Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="StatusReporterModule.html">Status Report Module</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Other Classes</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Logger.html">Logger</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="RecordStorage.html">Record Storage</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Other</span>
    <ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="Class-Structure.html">Class Structure</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Debugging.html">Debugging</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Battery-Consumption.html">Battery Consumption</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="RecordStorage.html">Record Storage</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="The-FruityMesh-Algorithm.html">The Fruitymesh Algorithm</a>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="The-Algorithm-in-Detail.html">The Algorithm in Detail</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Simulator.html">Simulator</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="Tutorials.html">Tutorials</a>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Implementing-a-Custom-Module.html">Implementing a Custom Module</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="FAQ.html">FAQ</a>
      </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<article class="doc"><a name="section-top"></a>
<h1>Class Structure</h1>
<div class="sect1">
<h2 id="_srcmain_cpp"><a class="anchor" href="#_srcmain_cpp"></a>src/Main.cpp</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the entry point of the application. It just calls two functions in <code>FruityMesh.cpp</code>. The first one boots up the node and the second one runs an endless loop to fetch and process events.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_srcfruitymesh_cpp"><a class="anchor" href="#_srcfruitymesh_cpp"></a>src/FruityMesh.cpp</h2>
<div class="sectionbody">
<div class="paragraph">
<p>During bootup, classes such as the <em>SoftDevice</em>, <em>Terminal</em>, <em>Logger</em>, <em>Storage</em>, and others are initialized. After everything has been started, the event handling routine takes over. All event dispatching routines, as well as interrupt and error handlers are implemented here.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_srcbase"><a class="anchor" href="#_srcbase"></a>src/base/</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The base folder contains a few classes that are meant as wrappers for the S130 API. The most central one is the <em>FruityHal</em>, which wraps all nRF functionality (not yet complete).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_srcmeshnode_cpp"><a class="anchor" href="#_srcmeshnode_cpp"></a>src/mesh/Node.cpp</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>Node</em> class is responsible for building mesh connections and works hand in hand with the <em>MeshConnection</em> and <em>ConnectionManager</em> classes to accomplish these tasks.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_srcmeshconnectionmanager_cpp"><a class="anchor" href="#_srcmeshconnectionmanager_cpp"></a>src/mesh/ConnectionManager.cpp</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>ConnectionManager</em> is responsible for handling and scheduling all BLE connections. It is the central point to handle connects, disconnects and reestablishing connections.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_srcmeshmeshconnection_cpp"><a class="anchor" href="#_srcmeshmeshconnection_cpp"></a>src/mesh/MeshConnection.cpp</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All connections between nodes are using the <em>MeshConnection</em> class. This, together with the <em>ConnectionManager</em> and the <em>Node</em> handles clustering and meshing in general.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_srcmesh"><a class="anchor" href="#_srcmesh"></a>src/mesh/</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Other classes, all derived from <em>BaseConnection</em> are also in this folder and they enable e.g. smart phones to connect to the mesh and send and receive data. The most important one is the <em>MeshAccessConnection</em>, which implements a custom encryption protocol for communicating with external devices independent of their operating system.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_srcmodules"><a class="anchor" href="#_srcmodules"></a>src/modules/</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This folder contains a number of modules that provide specific functionality apart from the meshing protocol. To implement a new module, use a template in the <code>fruitymesh/src_examples/</code> folder to get started and have a look at the <a href="StatusReporterModule.html" class="page">StatusReporterModule</a> to get an idea of how to implement additional functionality.</p>
</div>
<div class="paragraph">
<p>If you want to learn more about modules, either read the <a href="Modules.html" class="page">Modules</a> chapter or have at look at this tutorial about <a href="Implementing-a-Custom-Module.html" class="page">Implementing a Custom Module</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_srcutility"><a class="anchor" href="#_srcutility"></a>src/utility/</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A basic circular queue implementation, a file system, utility classes, implementation of the terminal, logger, etc.</p>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Class Structure</h3>
  <div id="article-toc"></div>
</aside>
  </main>
</div>
  <footer class="footer fruitymesh-footer-padding">
<p>This project is under active development at the <a href="http://www.mwaysolutions.com/" >M-Way Solutions GmbH,</a> Germany.</p>
<p>We use FruityMesh ourselves in conjunction with our custom MeshGateway to build services such as connected lights, asset tracking and much more for our customers.</p>
</footer>
<script type="text/javascript">
  window.antora = window.antora || {}
  window.antora.basePath = '..'
  window.antora.pagePath = '/fruitymesh/Class-Structure.html'
</script>
<script src="../_/js/site.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js"></script>
<script src="../_/js/vendor/search.js"></script>
<script async src="../_/../search-index.js"></script>
<script src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/zoom.js"></script>
<script>hljs.initHighlighting()</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script>
  tocbot.init({
    tocSelector: '#article-toc',
    contentSelector: 'article',
    headingSelector: 'h2, h3, h4, h5, h6',
    collapseDepth: 6,
    positionFixedSelector: '#article-toc',
    scrollSmooth: true,
  });
  var tocList = document.getElementById('article-toc').getElementsByClassName('toc-list');
  if (tocList && tocList.length > 0 && tocList[0].childNodes.length > 0) {
    document.getElementById('article-toc').parentNode.classList.remove('hidden');
  }
</script>
</body>

</html>
