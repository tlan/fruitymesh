<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Testing Module (ID 12) :: Fruitymesh</title>
  <link rel="canonical" href="http://mwaylabs.github.io/fruitymesh/fruitymesh/TestingModule.html">
  <meta name="generator" content="Antora 2.1.1">
  <link rel="stylesheet" href="../_/css/site.css">
  <link rel="stylesheet" href="../_/css/footer.css">
</head>

<body class="article">
  <header class="header" role="banner">
<header class="header" role="banner">
  <div class="navbar-top">
    <a class="navbar-logo" id="fruitymesh-logo-padding" href="https://mwaylabs.github.io/fruitymesh/fruitymesh/index.html">
      <div class="navbar-item">
        <img src="../_/img/fruitymesh_logo.png" alt="Fruitymesh">
      </div>
    </a>
    <div class="navbar-item">
      <div id="search-wrapper" class="border-color-fruitymesh>
        <input id="search-input" type="text" placeholder="Search...">
      </div>
    </div>
  </div>
  <nav class="navbar-bottom fruitymesh-header-color">
    <a href="https://github.com/mwaylabs/fruitymesh">
      <div class="navbar-item">Fruitymesh on Github</div>
    </a>
  </nav>
</header>

</header>
  <div class="main-wrapper">
<div class="navigation-container" data-component="" data-version="master">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <button class="navigation-toggle"></button>
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Quick-Start.html">Quick Start</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="BasicUsage.html">Basic Usage</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Concepts.html">Concepts</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Features.html">Features</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Specification.html">Specification</a>
      </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Developers</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Developers.html">Developer Overview</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Class-Structure.html">Class Structure</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Debugging.html">Debugging</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ModuleDocumentationTemplate.html">Module Documentation Template</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="BuildingWithCMake.html">Building with CMake</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VsCodeSetup.html">VsCode Setup</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="CppCheck.html">CppCheck Setup</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Mesh</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Node.html">Node</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Connections.html">Connections</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Core Functionality</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="AdvertisingController.html">AdvertisingController</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="BoardConfig.html">Board Configuration</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="FruityHal.html">FruityHal</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Logger.html">Logger</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="RawData.html">RawData Protocol</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="RecordStorage.html">Record Storage</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ScanController.html">ScanController</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="SensorsAndActuators.html">Sensors and Actuators</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Terminal.html">Terminal</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Modules</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Modules.html">Module Overview</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="AdvertisingModule.html">AdvertisingModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="DebugModule.html">DebugModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="DfuModule.html">DfuModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="EnrollmentModule.html">EnrollmentModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="IoModule.html">IoModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="MeshAccessModule.html">MeshAccessModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ScanningModule.html">ScanningModule</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="StatusReporterModule.html">StatusReportModule</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Simulator</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="CherrySim.html">CherrySim</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Measurements</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Battery-Consumption.html">Battery Consumption</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Throughput.html">Throughput</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">The Fruitymesh Algorithm</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="The-FruityMesh-Algorithm.html">The Fruitymesh Algorithm Basics</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="The-Algorithm-in-Detail.html">The Algorithm in Detail</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Tutorials</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Tutorials.html">Tutorial Overview</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Implementing-a-Custom-Module.html">Implementing a Custom Module</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="FAQ.html">FAQ</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="FAQ.html">FAQ</a>
      </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<article class="doc"><a name="section-top"></a>
<h1>Testing Module (ID 12)</h1>
<div class="sect1">
<h2 id="_purpose"><a class="anchor" href="#_purpose"></a>Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>TestingModule</em> with <em>ModuleId</em> 12 is designed to automate tests for battery and throughput measurements. The module allows to measure the battery consumption of each individual application and also assists in estimating the throughput of the network.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_functionality"><a class="anchor" href="#_functionality"></a>Functionality</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Testing Module has two roles.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Master: Testing Module by default starts in test role "Master". Master node initializes the tests by sending a start test message to the node that performs tests.</p>
</li>
<li>
<p>Slave: Testing Module changes its role to slave when it receives a message to start the test.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each test runs for a maximum of 30 seconds. Master node initializes every test by first connecting to the slave node and then sending a message to start test. The slave node acknowledges this start test message, disconnects from the partner and switches its LEDs on for 2 sec to indicate the start of the test.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_applications"><a class="anchor" href="#_test_applications"></a>Test Applications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The applications currently being tested are advertisement, scanning, LED, latency and connection tests.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Application Name</th>
<th class="tableblock halign-left valign-top">Application ID</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LED Test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Advertisement Test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scanning Test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection Test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latency Test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A detailed description of these application is given below.</p>
</div>
<div class="sect2">
<h3 id="_led_test_application_id_1"><a class="anchor" href="#_led_test_application_id_1"></a>LED Test (Application ID 1)</h3>
<div class="paragraph">
<p>Slave node switches red LED on for 10 seconds and does nothing, then switches green LED on and does nothing.</p>
</div>
</div>
<div class="sect2">
<h3 id="_advertisement_test_application_id_2"><a class="anchor" href="#_advertisement_test_application_id_2"></a>Advertisement Test (Application ID 2)</h3>
<div class="paragraph">
<p>The advertisement test is performed by using different values of the following advertisement parameters.</p>
</div>
<div class="sect3">
<h4 id="_advertisement_type"><a class="anchor" href="#_advertisement_type"></a>Advertisement Type</h4>
<div class="paragraph">
<p>Advertisement types used by the testing module are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Connectable Undirected: Advertisement type where any device can send scan response packets and connect requests to the advertiser.</p>
</li>
<li>
<p>Non Connectable Undirected: Advertisement type where advertiser will not accept any connect requests or scan requests.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_advertisement_interval"><a class="anchor" href="#_advertisement_interval"></a>Advertisement Interval</h4>
<div class="paragraph">
<p>The advertisement interval specifies the time between advertising messages. The advertisement intervals used by the testing module are 20ms, 100ms, 1000ms and 4000ms.</p>
</div>
</div>
<div class="sect3">
<h4 id="_payload_size"><a class="anchor" href="#_payload_size"></a>Payload Size</h4>
<div class="paragraph">
<p>Payload size is the size of the packets to be advertised. Payloads of 10 bytes and 30 bytes are advertised by the testing module.</p>
</div>
</div>
<div class="sect3">
<h4 id="_transmit_power"><a class="anchor" href="#_transmit_power"></a>Transmit Power</h4>
<div class="paragraph">
<p>THe testing module advertises packets with TX power 0dbm and 4dbm.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scanning_test_application_id_3"><a class="anchor" href="#_scanning_test_application_id_3"></a>Scanning Test (Application ID 3)</h3>
<div class="paragraph">
<p>The scanning test is performed by using different values of the following scanning parameters.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Scan for a 3ms window in every 20ms interval.</p>
</li>
<li>
<p>Scan for a 10ms window in every 10ms interval (full duty cycle).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_connection_test_application_id_4"><a class="anchor" href="#_connection_test_application_id_4"></a>Connection Test (Application ID 4)</h3>
<div class="paragraph">
<p>The master node fills as many packets in the send queue as possible, each packet that was successfully put in the send queue is counted and <em>MeshAccessConnection</em> is used for sending these packets.</p>
</div>
</div>
<div class="sect2">
<h3 id="_latency_test_application_id_5"><a class="anchor" href="#_latency_test_application_id_5"></a>Latency Test (Application ID 5)</h3>
<div class="paragraph">
<p>Packets between master and slave node keep bouncing back and fourth until their time to live (<em>ttl</em>) is 0. The master node keeps track of the time from the start of packet sending until <em>ttl</em> is 0.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terminal_commands"><a class="anchor" href="#_terminal_commands"></a>Terminal Commands</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_led_test"><a class="anchor" href="#_led_test"></a>LED Test</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">starttest [bleAddress] led</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command sends a message to the slave node to start a LED test. The slave node will start its LED test after it receives this message.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">//Master node sends a message to node with BLE address E3:8F:26:AD:82:DE
//to start led test.

starttest E3:8F:26:AD:82:DE led</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_advertisement_test"><a class="anchor" href="#_advertisement_test"></a>Advertisement Test</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">starttest [bleAddress] adv [advInterval] [advTxPower] [advType] [advPayloadSize]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command sends a message to the slave node to start an advertisement test. The slave node performs the advertisement test for 30 seconds after it receives this message.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command Argument</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bleAddress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLE address of the slave node that performs the test</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">advInterval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Advertising Interval in milliseconds:<br>
32&#8230;&#8203;16383 (default: 100)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">advTxPower</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transmit Power:<br>
0: 0dBm (default)<br>
4: 4dBm</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">advType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Advertisement Type:<br>
0: connectable undirected (default)<br>
3: non-connectable undirected</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">advPayloadSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload Size:<br>
0&#8230;&#8203;30 (default: 10)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">//Master node sends a message to node with BLE address E3:8F:26:AD:82:DE to start
//advertisement test with advertising interval 100ms, Tx Power 0dbm, advertisement
//type connectable undirected and payload size 10 bytes.

starttest E3:8F:26:AD:82:DE adv 100 0 0 10</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scanning_test"><a class="anchor" href="#_scanning_test"></a>Scanning Test</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">starttest [bleAddress] scan [scanInterval] [scanWindow]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command sends a message to the slave node to start a scanning test. The slave node will scan for 30 secondss after it receives this message.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command Argument</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bleAddress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLE address of the slave node that performs the test</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scanInterval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scanning Interval in milliseconds:<br>
4&#8230;&#8203;16384 (recommended: 20)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scanWindow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan window in milliseconds:<br>
4&#8230;&#8203;16384 (recommended: 5)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">//Master node sends a message to node having ble address E3:8F:26:AD:82:DE to start
//scanning test with scan interval 20ms and scan window 20ms

starttest E3:8F:26:AD:82:DE scan 20 20</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_latency_test"><a class="anchor" href="#_latency_test"></a>Latency Test</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">starttest [bleAddress] lat [ttl]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command sends a message to the slave node that a latency test should be performed. The master node starts the test after it receives acknowledgement message from slave.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command Argument</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bleAddress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLE address of the slave node that performs the test</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ttl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time to live (ttl), default: 30</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">//Master node sends a message to node having ble address E3:8F:26:AD:82:DE to start
//latency test with ttl 20

starttest E3:8F:26:AD:82:DE lat 20</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_connection_test"><a class="anchor" href="#_connection_test"></a>Connection Test</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">starttest [bleAddress] conn [connPacketSize]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command sends a message to the slave node that a connection test should be performed. The master node starts the test after it receives acknowledgement message from slave.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command Argument</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bleAddress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLE address of the slave node that performs the test</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connPacketSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of the packets to be queued. Default: 12</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">//Master node sends a message to node having ble address E3:8F:26:AD:82:DE to start
//connection test with connPacketSize 25
starttest E3:8F:26:AD:82:DE conn 25</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_all_tests"><a class="anchor" href="#_all_tests"></a>All Tests</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">starttest [bleAddress] all</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command runs each test sequentially for 30 seconds. Below is a list of covered tests.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Test Application</th>
<th class="tableblock halign-left valign-top">Parameters</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LED TEST</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LATENCY TEST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ttl = 30</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONNECTION TEST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">packetSize = 12, 36 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SCANNING TEST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scanInterval = 20ms<br>
scanWindow = 3ms, 20ms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADVERTISEMENT TEST<br>
advTxPower = 0dbm<br>
advType = Connectable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">advInterval = 100ms, 200ms<br>
advPayloadSize = 30 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADVERTISEMENT TEST<br>
advTxPower = 0dbm<br>
advType = Non-Connectable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">advInterval = 100, 400, 1000, 4000ms<br>
advPayloadSize = 10, 30 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADVERTISEMENT TEST<br>
advTxPower = 4dbm<br>
advType = Non-Connectable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">advInterval = 100ms<br>
advPayloadSize = 30 bytes</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C++ hljs" data-lang="C++">//Master node sends a message to node having ble address E3:8F:26:AD:82:DE to
//start running tests sequentially each 30 sec

starttest E3:8F:26:AD:82:DE all</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_messages"><a class="anchor" href="#_messages"></a>Messages</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_start_test"><a class="anchor" href="#_start_test"></a>Start Test</h3>
<div class="sect3">
<h4 id="_request"><a class="anchor" href="#_request"></a>Request</h4>
<div class="paragraph">
<p>actionType: <code>START_AUTOMATED_TEST</code></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bytes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="Specification.html#connPacketModule" class="page">connPacketModule</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">advInterval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Advertising Interval</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">advTxPower</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Advertising TX Power</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">advPayloadSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Advertising Payload</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scanInterval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scanning Interval</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scanWindow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scanning Window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ttl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time to live (ttl)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">connPacketSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of packets to be queued</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_response"><a class="anchor" href="#_response"></a>Response</h4>
<div class="paragraph">
<p>actionType: <code>START_AUTOMATED_TEST_RESPONSE</code></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="Specification.html#connPacketModule" class="page">connPacketModule</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Testing Module (ID 12)</h3>
  <div id="article-toc"></div>
</aside>
  </main>
</div>
  <footer class="footer fruitymesh-footer-padding">
<p>This project is under active development at the <a href="http://www.mwaysolutions.com/" >M-Way Solutions GmbH,</a> Germany.</p>
<p>We use FruityMesh ourselves in conjunction with our custom MeshGateway to build services such as connected lights, asset tracking and much more for our customers.</p>
</footer>
<script type="text/javascript">
  window.antora = window.antora || {}
  window.antora.basePath = '..'
  window.antora.pagePath = '/fruitymesh/TestingModule.html'
</script>
<script src="../_/js/site.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js"></script>
<script src="../_/js/vendor/search.js"></script>
<script async src="../_/../search-index.js"></script>
<script src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/zoom.js"></script>
<script>hljs.initHighlighting()</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script>
  tocbot.init({
    tocSelector: '#article-toc',
    contentSelector: 'article',
    headingSelector: 'h2, h3, h4, h5, h6',
    collapseDepth: 6,
    positionFixedSelector: '#article-toc',
    scrollSmooth: true,
  });
  var tocList = document.getElementById('article-toc').getElementsByClassName('toc-list');
  if (tocList && tocList.length > 0 && tocList[0].childNodes.length > 0) {
    document.getElementById('article-toc').parentNode.classList.remove('hidden');
  }
</script>
</body>

</html>
